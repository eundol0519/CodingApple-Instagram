<template>
  <h1>MyPage</h1>
  <div style="padding: 10px">
    <h4>íŒ”ë¡œì›Œ</h4>
    <input placeholder="ğŸ”" />
    <div class="post-header" :key="i" v-for="(follower, i) in followers">
      <div class="profile" :style="{ backgroundImage: `url(${follower.image})` }"></div>
      <span class="profile-name">{{ follower.name }}</span>
    </div>
  </div>
</template>

<script>
import { followerData } from "@/constants/follower";
import { onMounted, reactive, ref, toRefs } from "vue";
import { useStore } from "vuex";

export default {
  name: "myPage",
  props: {
    one: Number,
  },
  // ê±°ì˜ ëª¨ë“  ê¸°ëŠ¥ ê°œë°œì„ setup í•œ ê³³ì—ì„œ í•  ìˆ˜ ìˆë‹¤.
  setup(props) {
    // ëª¨ë“  ë°ì´í„°ë¥¼ reference data typeìœ¼ë¡œ ê°ì‹¸ì•¼ ì‹¤ì‹œê°„ ë°˜ì˜ ê°€ëŠ¥
    // ë°ì´í„°ëŠ” ref()ì— ë‹´ê³ , return {}ì„ í•´ì¤˜ì•¼ ìœ„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

    // ë°ì´í„° ë§Œë“¤ ë•Œ ref or reactiveë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , reactiveëŠ” ë³´í†µ arrayë‚˜ objectë¥¼ ë„£ëŠ”ë‹¤.
    let followers = ref([]);
    let test = reactive({ name: "kim" });

    console.log(test.name);

    // props ë°›ì•„ì˜¬ ë•Œ ref, ì—¬ëŸ¬ê°œ ë°›ì•„ì˜¬ ë•ŒëŠ” toRefs ì‚¬ìš©
    let { one } = toRefs(props);

    console.log(one.value);

    // watch ì‚¬ìš©ë²•
    // watch(ê°ì‹œí•  data ì´ë¦„, () => { ì‹¤í–‰í•  ì½”ë“œ })

    // computed ì‚¬ìš©ë²•
    // computed(() => { return ì—°ì‚° ê²°ê³¼ })

    // vuex store ì‚¬ìš©ë²•
    // + vue@4ì—ì„œëŠ” storeì˜ ê°’ì„ mapStateë¡œ computed í•  ìˆ˜ ì—†ë‹¤.
    let store = useStore();
    console.log(store.state.count);

    onMounted(() => {
      // ì»´í¬ë„ŒíŠ¸ ì¥ì°© í›„ ì‹¤í–‰ë  ì½”ë“œ
    });

    followers.value = followerData;

    return { followers };
  },
};
</script>

<!-- vue íŒŒì¼ì— ìˆë˜ cssëŠ” build ì‹œ í•˜ë‚˜ë¡œ í•©ì³ì§€ëŠ” ë° ê·¸ê²Œ ì‹«ìœ¼ë©´ scopedë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. -->
<style scoped></style>
